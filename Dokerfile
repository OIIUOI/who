FROM python:3.11.4

MAINTAINER ifdog <jin47888@naver.com>

ENV PYTHONDONTWRITEBYTECODE 1

ENV PYTHONUNBUFFERED 1

WORKDIR /Users/User/Desktop/pjt

COPY requirements.txt ./

RUN pip install -r requirements.txt

RUN apt update

RUN apt install -y nginx

RUN echo "daemon off;" >> /etc/nginx/nginx.conf

RUN chown -R www-data:www-data /var/lib/nginx

COPY . .

EXPOSE 8000

EXPOSE 80

CMD ["gunicorn", "--bind", "0.0.0.0:8000", "who.wsgi:application"]